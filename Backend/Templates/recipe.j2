
<!----------------------------------------------------------------------------------------------------------------------
-                                                                                                                      -
-    Created by: MPZinke on 2023.01.22                                                                                 -
-                                                                                                                      -
-    DESCRIPTION:                                                                                                      -
-    BUGS:                                                                                                             -
-    FUTURE:                                                                                                           -
-                                                                                                                      -
----------------------------------------------------------------------------------------------------------------------->


{% macro list_steps(listed_steps) %}
	<ul>
		{% for step in listed_steps %}
			<li>
				{{ step }}
			</li>
		{% endfor %}
	</ul>
{% endmacro %}


{% macro list_steps(listed_steps) %}
	<ul>
		{% for step in listed_steps %}
			<li>
				{{ step }}
			</li>
		{% endfor %}
	</ul>
{% endmacro %}


{% extends "header.j2" %}
{% block body %}
	<h1>
		{{ recipe.name() }}
	</h1>
	<table>
		{% for ingredient in recipe.ingredients() %}
			<tr>
				<td>
					{% if ingredient.amount() != 0 %}
						{{ ingredient.amount() }}
					{% endif %}
					{{ ingredient.quantity() }}
					<a href="/ingredient/{{ ingredient.name() }}">
						{{ ingredient.name() }}
					</a>
				</td>
			</tr>
		{% endfor %}
	</table>
	<h2>
		Instructions
	</h2>
	{% with instructions = recipe.instructions() %}
		{% if instructions.__class__.__name__ == "list" %}
			{{ list_steps(instructions) }}
		{% elif instructions.__class__.__name__ == "dict" %}
			{% for section, steps in instructions.items() %}
				<h3>
					{{ section }}
				</h3>
				{{ list_steps(steps) }}
			{% endfor %}
		{% endif %}
	{% endwith %}
{% endblock %}